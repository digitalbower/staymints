@extends('users.layouts.master')
@section('content')
<div class="package-sidebar-section banner-section mb-122 pt-50">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-4 mt-0">
                <a href="javascript:void(0);" class="mob_filter d-block d-lg-none">Filter <i class="fa-solid fa-filter ms-3"></i></a>
                <div class="sidebar-area">
                    <a href="javascript:void(0);" class="close_mob_filter d-block d-lg-none"><i class="fa-regular fa-circle-xmark"></i></a>
                    <form id="filterForm" method="GET" action="{{ route('user.package.filter') }}">
                        <div class="single-widget mb-30">
                            <h5 class="widget-title">Price Filter</h5>
                            <div class="range-wrap">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <input type="hidden" name="min_price" id="min-value" value="">
                                        <input type="hidden" name="max_price" id="max-value" value="">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div id="slider-range"></div>
                                    </div>
                                </div>
                                <div class="slider-labels">
                                    <div class="caption">
                                        <span id="slider-range-value1"></span>
                                    </div>
                                    <div class="caption">
                                        <span id="slider-range-value2"></span>
                                    </div>
                                </div>
                                <ul class="review-list two">
                                    @foreach ($priceRanges as $range)
                                    <li class="single-list">
                                        <div class="checkbox-item">
                                            <input type="radio" class="input-radio active" name="price[]" value="{{ $range['value'] }}" id="price-{{ $loop->index }}">
                                            <label for="price-{{ $loop->index }}">{{ $range['label'] }}</label>
                                        </div>
                                    </li>    
                                    @endforeach                                                                                                                                                                        
                                </ul>   
                            </div>
                        </div>
                        <div class="single-widget mb-30">
                            <h5 class="widget-title">Duration</h5>
                            <div class="range-value">
                                <span id="min-day">1</span> day to <span id="max-day">30</span> days
                            </div>

                            <div class="rangeSlider">
                                <div class="rc-slider">
                                <div class="rc-slider-rail"></div>
                                <div class="rc-slider-track rc-slider-track-1"></div>
                                <div class="rc-slider-step"></div>
                                <div tabindex="0" class="rc-slider-handle rc-slider-handle-1" role="slider" aria-valuemin="1" aria-valuemax="30" aria-valuenow="1"></div>
                                <div tabindex="0" class="rc-slider-handle rc-slider-handle-2" role="slider" aria-valuemin="1" aria-valuemax="30" aria-valuenow="7"></div>
                                <div class="rc-slider-mark">
                                    <span style="left: 0%;">1</span>
                                    <span style="left: 33.33%;">10</span>
                                    <span style="left: 66.66%;">20</span>
                                    <span style="left: 100%;">30</span>
                                </div>
                                </div>
                                <input type="hidden" name="duration" id="duration" value="1-30">
                            </div>
                        </div>
                        <div class="single-widget mb-30">
                            <h5 class="widget-title">Category</h5>
                            <ul id="categoryList">
                                @foreach ($categories as $index => $category)
                                    <li class="single-list" style="{{ $index > 4 ? 'display: none;' : '' }}"> 
                                        <div class="checkbox-item">
                                            <label>
                                                <input type="radio" id="category_id" class="input-radio active" name="category_id" value="{{ $category->id }}" {{ request('category_id') == $category->id ? 'checked' : '' }}>
                                                {{ $category->category_name }}
                                            </label>
                                        </div> 
                                    </li>    
                                @endforeach                                                                
                            </ul>
                        </div>

                        <div class="single-widget mb-30">
                            <h5 class="widget-title">Country</h5>
                                <ul id="countryList">
                                    @foreach ($countries as $index => $country)
                                        <li class="single-list" style="{{ $index > 4 ? 'display: none;' : '' }}"> 
                                            <div class="checkbox-item">
                                                <label>
                                                    <input type="radio" id="country_id" class="input-radio active" name="country_id" value="{{ $country->id }}"  {{ request('country_id') == $country->id ? 'checked' : '' }}>
                                                    {{ $country->country_name }}
                                                </label>
                                                <span>{{ $country->country_code }}</span>
                                            </div> 
                                        </li>    
                                    @endforeach                                                                           
                                </ul>

                            <a href="javascript:void(0);" id="showMore" class="text-black">Show More</a>
                            <a href="javascript:void(0);" id="showLess" class="text-black" style="display: none;">Show Less</a>

                        </div>
                    
{{-- 
                    <div class="single-widget mb-30">
                        <h5 class="widget-title">Rating</h5>
                        <ul class="review-list two">
                            <li class="single-list">
                                <div class="checkbox-item">
                                        <input type="radio" class="input-radio active" id="rating5" name="rating" value="5"> 
                                        <div class="star">
                                        <div class="start-area">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>

                                        </div>
                                        <span>(5star)</span>                                      
                                </div> 
                                </div>
                            </li>                                                                                             
                            <li class="single-list">
                                <div class="checkbox-item">
                                        <input type="radio" class="input-radio active" id="rating4" name="rating" value="4+"> <div class="star">
                                        <div class="start-area">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>

                                        </div>
                                        <span>(4star)</span>
                                    </div>                                    
                                </div> 
                            </li>                                                                                             
                            <li class="single-list">
                                <div class="checkbox-item">
                                        <input type="radio" class="input-radio active" id="rating3" name="rating" value="3+"> <div class="star">
                                        <div class="start-area">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>

                                        </div>
                                        <span>(3star)</span>
                                    </div>                                     
                                </div> 
                            </li>                                                                                             
                            <li class="single-list">
                                <div class="checkbox-item">
                                        <input type="radio" class="input-radio active" id="rating2" name="rating" value="2+"> <div class="star">
                                        <div class="start-area">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>

                                        </div>
                                        <span>(2star)</span>
                                    </div>                                    
                                </div> 
                            </li>                                                                                             
                            <li class="single-list">
                                <div class="checkbox-item">
                                        <input type="radio" class="input-radio active" id="rating1" name="rating" value="1+"> <div class="star">
                                        <div class="start-area">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                    fill="#FFC200" />
                                            </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>
                                            <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.5272 0.374296C7.68194 -0.0754915 8.31806 -0.075493 8.4728 0.374294L9.90457 4.53601C9.97401 4.73785 10.1639 4.87336 10.3774 4.87336L14.9471 4.87336C15.4384 4.87336 15.6351 5.50769 15.23 5.78563L11.5831 8.28806C11.3978 8.41524 11.3201 8.65045 11.3932 8.863L12.7976 12.9453C12.9544 13.4009 12.4393 13.7928 12.0419 13.5202L8.2829 10.9408C8.11243 10.8239 7.88757 10.8239 7.71711 10.9408L3.95807 13.5202C3.56073 13.7928 3.04561 13.4009 3.20237 12.9453L4.60681 8.863C4.67993 8.65045 4.60224 8.41524 4.4169 8.28806L0.769992 5.78563C0.36493 5.50769 0.561633 4.87336 1.05289 4.87336L5.62263 4.87336C5.83608 4.87336 6.02599 4.73785 6.09543 4.53602L7.5272 0.374296Z"
                                                fill="#C1C1C1" />
                                        </svg>

                                        </div>
                                        <span>(1star)</span>
                                    </div>                                      
                                </div> 
                            </li>                                                                                             
                        </ul>
                    </div> --}}
                    <div class="single-widget">
                        <h5 class="widget-title">Reviews</h5>
                        <div class="d-flex gap-2 align-items-start text-center">
                            @foreach([5,4,3,2,1] as $star)
                                @php
                                    $min = $star;
                                    $max = $star + 0.9;
                                @endphp
                                <div class="checkbox">
                                    <label class="checkbox-wrapper w-100">
                                        <input type="radio" name="rating" class="checkbox-input"  value="{{ $min }}-{{ $max }}" />
                                        <span class="checkbox-tile category-item properties w-100">
                                            <span> {{ $star }} <i class="fa-solid fa-star"></i></span>
                                            <p>({{ $ratingCounts[$star] ?? 0 }})</p>
                                        </span>
                                    </label>
                                </div>
                            @endforeach
                        </div>
                    </div>
                </form>
                    <div class="d-flex align-items-center justify-content-between mt-5 d-lg-none px-4">
                        <a href="javascript:void(0);" class="btn btn-default border clear_btn">Clear</a>
                        <a href="javascript:void(0);" class="btn btn-primary apply_btn">Apply</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-8" id="packageList">
                @include('users.partials.package_list', ['packages' => $packages])
                
            </div>
        </div>
    </div>
</div>
<div class="overley_backdrop"></div>
<div class="customize_trip">
    <a href="javascript:void(0);" class="customtrip_btn">
        <span class="incustom_trip">Customise My Trip</span>
        <span class="close_trip">X</span>
    </a>
    <ul class="customise_sm_popup list-inline">
        <li class="border-bottom pb-3 mb-3">
            <a class="d-block" href="#exampleModal"  data-bs-toggle="modal">
                <div class="d-flex align-items-center">
                    <div class="circle_ me-3"><i class="fa-solid fa-envelope-open-text"></i></div>
                    <div class="">
                        <p>Get a Quote</p>
                        <span>Customise your holiday to your liking</span>
                    </div>
                </div>
            </a>
        </li>
        <li class="border-bottom pb-3 mb-3">
            <a class="d-block" href="javascript:void(0);">
                <div class="d-flex align-items-md-center">
                    <div class="circle_ me-3"><i class="fa-regular fa-message"></i></div>
                    <div class="">
                        <p>Chat with an Expert</p>
                        <span>Get instant assistance at your fingertips</span>
                    </div>
                </div>
            </a>
        </li>
    </ul>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header p-4 border-0 align-items-start">
        <div class="">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Get a quote</h1>
            <p>Please share your details below and our holiday expert will get in touch with you.</p>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-4">
        <form action="" method="post">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="">Destination</label>
                        <select name="" class="form-control w-100">
                            <option value="">Kerela</option>
                            <option value="">Goa</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6 mt-4 mt-md-0">
                    <div class="form-group">
                        <label for="">Departure City</label>
                        <select name="" class="form-control w-100">
                            <option value="">Kerela</option>
                            <option value="">Goa</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6 mt-4">
                    <div class="form-group">
                        <label for="">Full Name</label>
                        <input type="text" class="form-control" placeholder="Name">
                    </div>
                </div>

                <div class="col-md-6 mt-4">
                    <div class="form-group">
                        <label for="">Phone</label>
                        <input type="text" class="form-control" placeholder="Phone Number">
                    </div>
                </div>

                <div class="col-md-12 mt-4">
                    <div class="form-group">
                        <label for="">Email ID</label>
                        <input type="email" class="form-control" placeholder="Email Address">
                    </div>
                </div>

                <div class="col-md-12 mt-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                        <label class="form-check-label" for="flexCheckDefault">
                            I have read and agree to the <a href="#">User Agreement</a> & <a href="#">Privacy Policy</a>.
                        </label>
                    </div>
                </div>
            </div>
        </form>
      </div>
      <div class="modal-footer border-0 pt-0">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Submit</button>
      </div>
    </div>
  </div>
</div>
@endsection
@push('scripts')
<script>
  const fullMin = {{ $minPrice }};
  const fullMax = {{ $maxPrice }};
</script>
<script src="{{asset('assets/user/js/range-slider.js')}}"></script>
<script>
$(document).ready(function() {
$(".incustom_trip").click(function() {
    $(".customise_sm_popup").show();
    $(".incustom_trip").hide();
    $(".close_trip").show();
    $(".overley_backdrop").show();
});

$(".close_trip").click(function() {
    $(".customise_sm_popup").hide();
    $(".incustom_trip").show();
    $(".close_trip").hide();
    $(".overley_backdrop").hide();
});

$(".overley_backdrop").click(function() {
    $(".customise_sm_popup").hide();
    $(".incustom_trip").show();
    $(".close_trip").hide();
    $(".overley_backdrop").hide();
});

$(".mob_filter").click(function() {
    $(".sidebar-area").show();
});

$(".close_mob_filter").click(function() {
    $(".sidebar-area").hide();
});

$(".show_more").click(function() {
    $(".show_more").hide();
    $(".all_country").show();
    $(".show_less").show();
});

$(".show_less").click(function() {
    $(".show_more").show();
    $(".all_country").hide();
    $(".show_less").hide();
});

});


var sheet = document.createElement('style'),  
  $rangeInput = $('.range input'),
  prefs = ['webkit-slider-runnable-track', 'moz-range-track', 'ms-track'];

document.body.appendChild(sheet);

var getTrackStyle = function (el) {  
  var curVal = el.value,
      val = (curVal - 1) * 16.666666667,
      style = '';
  
  // Set active label
  $('.range-labels li').removeClass('active selected');
  
  var curLabel = $('.range-labels').find('li:nth-child(' + curVal + ')');
  
  curLabel.addClass('active selected');
  curLabel.prevAll().addClass('selected');
  
  // Change background gradient
  for (var i = 0; i < prefs.length; i++) {
    style += '.range {background: linear-gradient(to right, #37adbf 0%, #37adbf ' + val + '%, #fff ' + val + '%, #fff 100%)}';
    style += '.range input::-' + prefs[i] + '{background: linear-gradient(to right, #37adbf 0%, #37adbf ' + val + '%, #b2b2b2 ' + val + '%, #b2b2b2 100%)}';
  }

  return style;
}

$rangeInput.on('input', function () {
  sheet.textContent = getTrackStyle(this);
});

// Change input value on label click
$('.range-labels li').on('click', function () {
  var index = $(this).index();
  
  $rangeInput.val(index + 1).trigger('input');
  
});
function debounce(func, wait = 300) {
  let timeout;
  return function(...args) {
    const context = this;
    clearTimeout(timeout);
    timeout = setTimeout(() => func.apply(context, args), wait);
  };
}
$(document).ready(function() {
  // Delegated event binding on #packageList
  $('#packageList').on('change', '#sortBy', applyFilters);

  // Other filters outside #packageList? Bind normally or delegated on #filterForm
  $('#filterForm').on('change', '#duration, input[name="price[]"], input[name="category_id"], input[name="country_id"], input[name="rating"]', applyFilters);

  // Initialize niceSelect on page load for the first time
  $('#sortBy').niceSelect();

   if ($('#filterForm input:checked').length > 0 || $('#filterForm select').val()) {
        applyFilters(); // Trigger AJAX on load
    }
});
function applyFilters() {
    let formData = $('#filterForm').serializeArray();
    formData.push({ name: 'sort', value: $('#sortBy').val() });

  console.log('Filters applied:', formData);
  $.ajax({
    url: $('#filterForm').attr('action'),
    type: 'GET',
    data: formData,
    headers: { 'X-Requested-With': 'XMLHttpRequest' },
    success(html) {
      $('#packageList').html(html);
      $('#sortBy').niceSelect('destroy').niceSelect();
      // Re-bind the change event on the new <select>
        $('#sortBy').off('change').on('change', applyFilters);

    },
    error(err) {
      console.error("AJAX filter error:", err);
    }
  });
}
$(document).ready(function() {
    const applyFiltersDebounced = debounce(applyFilters, 300);
    const minHandle = $('.rc-slider-handle-1');
    const maxHandle = $('.rc-slider-handle-2');
    const track = $('.rc-slider-track');
    const slider = $('.rc-slider');
    const minDay = $('#min-day');
    const maxDay = $('#max-day');
    
    const minValue = 1;
    const maxValue = 30;
    let currentMin = minValue, currentMax = maxValue;
    
    // Initialize slider positions
    updateSliderPositions();
    
    // Make handles draggable
    minHandle.on('mousedown touchstart', startDrag);
    maxHandle.on('mousedown touchstart', startDrag);
    
    function startDrag(e) {
        e.preventDefault();
        const handle = $(this);
        const isMinHandle = handle.hasClass('rc-slider-handle-1');
        
        $(document).on('mousemove touchmove', function(e) {
            moveHandle(e, handle, isMinHandle);
        });
        
        $(document).on('mouseup touchend', function() {
            $(document).off('mousemove touchmove mouseup touchend');
        });
    }
    
    function moveHandle(e, handle, isMinHandle) {
        const sliderWidth = slider.width();
        const sliderOffset = slider.offset().left;
        let clientX = e.clientX;
        
        if (e.type === 'touchmove') {
            clientX = e.touches[0].clientX;
        }
        
        let position = ((clientX - sliderOffset) / sliderWidth) * 100;
        position = Math.max(0, Math.min(100, position));
        
        const value = Math.round(minValue + (position / 100) * (maxValue - minValue));
        
        if (isMinHandle) {
            if (value >= currentMax) return;
            currentMin = value;
            minDay.text(currentMin);
            handle.attr('aria-valuenow', currentMin);
        } else {
            if (value <= currentMin) return;
            currentMax = value;
            maxDay.text(currentMax);
            handle.attr('aria-valuenow', currentMax);
        }
                                                                                                                                                         
        updateSliderPositions();
        $('#duration').val(currentMin + '-' + currentMax);
        applyFiltersDebounced();;
    }
    
    function updateSliderPositions() {
        const minPosition = ((currentMin - minValue) / (maxValue - minValue)) * 100;
        const maxPosition = ((currentMax - minValue) / (maxValue - minValue)) * 100;
        
        minHandle.css('left', minPosition + '%');
        maxHandle.css('left', maxPosition + '%');
        track.css({
            'left': minPosition + '%',
            'width': (maxPosition - minPosition) + '%'
        });
    }
    
    // Click on slider to move handles
    slider.on('click', function(e) {
        const sliderWidth = slider.width();
        const sliderOffset = slider.offset().left;
        let clientX = e.clientX;
        
        if (e.type === 'touchstart') {
            clientX = e.touches[0].clientX;
        }
        
        const position = ((clientX - sliderOffset) / sliderWidth) * 100;
        const value = Math.round(minValue + (position / 100) * (maxValue - minValue));
        
        // Determine which handle to move
        const minDistance = Math.abs(value - currentMin);
        const maxDistance = Math.abs(value - currentMax);
        
        if (minDistance < maxDistance) {
            if (value >= currentMax) return;
            currentMin = Math.max(minValue, Math.min(currentMax - 1, value));
            minDay.text(currentMin);
            minHandle.attr('aria-valuenow', currentMin);
        } else {
            if (value <= currentMin) return;
            currentMax = Math.min(maxValue, Math.max(currentMin + 1, value));
            maxDay.text(currentMax);
            maxHandle.attr('aria-valuenow', currentMax);
        }
        
        updateSliderPositions();
        $('#duration').val(currentMin + '-' + currentMax);
        applyFiltersDebounced();;
    });
});
</script>
<script>


 $(function() {

        // Show More
        $('#showMore').on('click', function () {
            $('#countryList .single-list').show();
            $(this).hide();
            $('#showLess').show();
        });

        // Show Less
        $('#showLess').on('click', function () {
            $('#countryList .single-list').each(function (index) {
                $(this).toggle(index <= 4);
            });
            $(this).hide();
            $('#showMore').show();
        });
    });

</script>
<script>
$(document).ready(function() {
  // Submit form when Apply is clicked (mobile)
  $('.apply_btn').on('click', function(e) {
    e.preventDefault();
    $('#filterForm')[0].submit();
  });

  // Clear filters and submit form on Clear click
  $('.clear_btn').on('click', function(e) {
    e.preventDefault();

    const form = $('#filterForm')[0];
    form.reset();

    // Reset niceSelect dropdown
    $('#sortBy').val('').niceSelect('update');

    // Uncheck rating and price checkboxes
    $('[name="rating"]').prop('checked', false);
    $('[name="price[]"]').prop('checked', false);

    // Reset the duration slider IF you're using one
    $('#duration').val('');
    $('#minValue').text('1');
    $('#maxValue').text('30');
    // Also update slider UI accordingly...

    // Submit the form to reload the page with cleared filters
    form.submit();
  });
});


</script>
@endpush